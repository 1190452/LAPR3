<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="985px" preserveAspectRatio="none" style="width:1458px;height:985px;" version="1.1" viewBox="0 0 1458 985" width="1458px" zoomAndPan="magnify"><defs><filter height="300%" id="f14587rp3xsuy" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#f14587rp3xsuy)" height="782.0625" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="21" y="99.6094"/><rect fill="#FFFFFF" filter="url(#f14587rp3xsuy)" height="30.3516" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="283" y="121.9609"/><rect fill="#FFFFFF" filter="url(#f14587rp3xsuy)" height="699.0078" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="283" y="182.6641"/><rect fill="#FFFFFF" filter="url(#f14587rp3xsuy)" height="638.3047" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="454" y="213.0156"/><rect fill="#FFFFFF" filter="url(#f14587rp3xsuy)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="647" y="243.3672"/><rect fill="#FFFFFF" filter="url(#f14587rp3xsuy)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="755" y="575.6953"/><rect fill="#FFFFFF" filter="url(#f14587rp3xsuy)" height="90.7031" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="860" y="454.6406"/><rect fill="#FFFFFF" filter="url(#f14587rp3xsuy)" height="90.7031" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="950.5" y="700.2656"/><rect fill="#FFFFFF" filter="url(#f14587rp3xsuy)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1032" y="821.3203"/><rect fill="#FFFFFF" filter="url(#f14587rp3xsuy)" height="60.3516" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1152.5" y="484.9922"/><rect fill="#FFFFFF" filter="url(#f14587rp3xsuy)" height="60.3516" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1292" y="730.6172"/><rect fill="#FFFFFF" filter="url(#f14587rp3xsuy)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1401.5" y="515.3438"/><rect fill="#FFFFFF" filter="url(#f14587rp3xsuy)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1401.5" y="760.9688"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="26" x2="26" y1="89.6094" y2="899.6719"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="288" x2="288" y1="89.6094" y2="899.6719"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="459" x2="459" y1="89.6094" y2="899.6719"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="651.5" x2="651.5" y1="89.6094" y2="899.6719"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="759.5" x2="759.5" y1="89.6094" y2="899.6719"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="864.5" x2="864.5" y1="410.1797" y2="899.6719"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="955.5" x2="955.5" y1="655.8047" y2="899.6719"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1036.5" x2="1036.5" y1="89.6094" y2="899.6719"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1157.5" x2="1157.5" y1="89.6094" y2="899.6719"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1296.5" x2="1296.5" y1="89.6094" y2="899.6719"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1406.5" x2="1406.5" y1="89.6094" y2="899.6719"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="36" x="5" y="86.5332">Client</text><ellipse cx="26" cy="15" fill="#FEFECE" filter="url(#f14587rp3xsuy)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M26,23 L26,50 M13,31 L39,31 M26,50 L13,65 M26,50 L39,65 " fill="none" filter="url(#f14587rp3xsuy)" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="36" x="5" y="913.2051">Client</text><ellipse cx="26" cy="926.2813" fill="#FEFECE" filter="url(#f14587rp3xsuy)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M26,934.2813 L26,961.2813 M13,942.2813 L39,942.2813 M26,961.2813 L13,976.2813 M26,961.2813 L39,976.2813 " fill="none" filter="url(#f14587rp3xsuy)" style="stroke: #A80036; stroke-width: 2.0;"/><rect fill="#FEFECE" filter="url(#f14587rp3xsuy)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="66" x="253" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="52" x="260" y="74.5332">:ClientUI</text><rect fill="#FEFECE" filter="url(#f14587rp3xsuy)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="66" x="253" y="898.6719"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="52" x="260" y="920.2051">:ClientUI</text><rect fill="#FEFECE" filter="url(#f14587rp3xsuy)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="140" x="387" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="126" x="394" y="74.5332">:CheckoutController</text><rect fill="#FEFECE" filter="url(#f14587rp3xsuy)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="140" x="387" y="898.6719"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="126" x="394" y="920.2051">:CheckoutController</text><rect fill="#FEFECE" filter="url(#f14587rp3xsuy)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="97" x="601.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="83" x="608.5" y="74.5332">:UserSession</text><rect fill="#FEFECE" filter="url(#f14587rp3xsuy)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="97" x="601.5" y="898.6719"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="83" x="608.5" y="920.2051">:UserSession</text><rect fill="#FEFECE" filter="url(#f14587rp3xsuy)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="91" x="712.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="77" x="719.5" y="74.5332">:DoPayment</text><rect fill="#FEFECE" filter="url(#f14587rp3xsuy)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="91" x="712.5" y="898.6719"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="77" x="719.5" y="920.2051">:DoPayment</text><rect fill="#FEFECE" filter="url(#f14587rp3xsuy)" height="49.2188" style="stroke: #A80036; stroke-width: 1.5;" width="91" x="817.5" y="898.6719"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="21" x="852.5" y="920.2051">ord</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="77" x="824.5" y="937.8145">:ClientOrder</text><rect fill="#FEFECE" filter="url(#f14587rp3xsuy)" height="49.2188" style="stroke: #A80036; stroke-width: 1.5;" width="62" x="922.5" y="898.6719"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="18" x="944.5" y="920.2051">inv</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="48" x="929.5" y="937.8145">:Invoice</text><rect fill="#FEFECE" filter="url(#f14587rp3xsuy)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="73" x="998.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="59" x="1005.5" y="74.5332">:EmailAPI</text><rect fill="#FEFECE" filter="url(#f14587rp3xsuy)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="73" x="998.5" y="898.6719"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="59" x="1005.5" y="920.2051">:EmailAPI</text><rect fill="#FEFECE" filter="url(#f14587rp3xsuy)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="140" x="1085.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="126" x="1092.5" y="74.5332">:ClientOrderHandler</text><rect fill="#FEFECE" filter="url(#f14587rp3xsuy)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="140" x="1085.5" y="898.6719"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="126" x="1092.5" y="920.2051">:ClientOrderHandler</text><rect fill="#FEFECE" filter="url(#f14587rp3xsuy)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="111" x="1239.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="97" x="1246.5" y="74.5332">:InvoiceHandler</text><rect fill="#FEFECE" filter="url(#f14587rp3xsuy)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="111" x="1239.5" y="898.6719"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="97" x="1246.5" y="920.2051">:InvoiceHandler</text><rect fill="#FEFECE" filter="url(#f14587rp3xsuy)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="80" x="1364.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="66" x="1371.5" y="74.5332">:DataBase</text><rect fill="#FEFECE" filter="url(#f14587rp3xsuy)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="80" x="1364.5" y="898.6719"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="66" x="1371.5" y="920.2051">:DataBase</text><rect fill="#FFFFFF" filter="url(#f14587rp3xsuy)" height="782.0625" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="21" y="99.6094"/><rect fill="#FFFFFF" filter="url(#f14587rp3xsuy)" height="30.3516" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="283" y="121.9609"/><rect fill="#FFFFFF" filter="url(#f14587rp3xsuy)" height="699.0078" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="283" y="182.6641"/><rect fill="#FFFFFF" filter="url(#f14587rp3xsuy)" height="638.3047" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="454" y="213.0156"/><rect fill="#FFFFFF" filter="url(#f14587rp3xsuy)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="647" y="243.3672"/><rect fill="#FFFFFF" filter="url(#f14587rp3xsuy)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="755" y="575.6953"/><rect fill="#FFFFFF" filter="url(#f14587rp3xsuy)" height="90.7031" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="860" y="454.6406"/><rect fill="#FFFFFF" filter="url(#f14587rp3xsuy)" height="90.7031" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="950.5" y="700.2656"/><rect fill="#FFFFFF" filter="url(#f14587rp3xsuy)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1032" y="821.3203"/><rect fill="#FFFFFF" filter="url(#f14587rp3xsuy)" height="60.3516" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1152.5" y="484.9922"/><rect fill="#FFFFFF" filter="url(#f14587rp3xsuy)" height="60.3516" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1292" y="730.6172"/><rect fill="#FFFFFF" filter="url(#f14587rp3xsuy)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1401.5" y="515.3438"/><rect fill="#FFFFFF" filter="url(#f14587rp3xsuy)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1401.5" y="760.9688"/><polygon fill="#A80036" points="271,117.9609,281,121.9609,271,125.9609,275,121.9609" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="31" x2="277" y1="121.9609" y2="121.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="38" y="117.1045">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="167" x="49" y="117.1045">begins the checkout process</text><polygon fill="#A80036" points="42,148.3125,32,152.3125,42,156.3125,38,152.3125" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="36" x2="287" y1="152.3125" y2="152.3125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="48" y="147.4561">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="212" x="59" y="147.4561">shows cart and asks for confirmation</text><polygon fill="#A80036" points="271,178.6641,281,182.6641,271,186.6641,275,182.6641" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="31" x2="277" y1="182.6641" y2="182.6641"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="38" y="177.8076">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="49" x="49" y="177.8076">confirms</text><polygon fill="#A80036" points="442,209.0156,452,213.0156,442,217.0156,446,213.0156" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="293" x2="448" y1="213.0156" y2="213.0156"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="300" y="208.1592">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="131" x="311" y="208.1592">checkoutProcess(cart)</text><polygon fill="#A80036" points="635,239.3672,645,243.3672,635,247.3672,639,243.3672" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="464" x2="641" y1="243.3672" y2="243.3672"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="471" y="238.5107">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="133" x="482" y="238.5107">user=getUserSession()</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="464" x2="506" y1="303.7188" y2="303.7188"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="506" x2="506" y1="303.7188" y2="316.7188"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="465" x2="506" y1="316.7188" y2="316.7188"/><polygon fill="#A80036" points="475,312.7188,465,316.7188,475,320.7188,471,316.7188" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="471" y="298.8623">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="138" x="482" y="298.8623">price=getCartPrice(cart)</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="464" x2="506" y1="347.0703" y2="347.0703"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="506" x2="506" y1="347.0703" y2="360.0703"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="465" x2="506" y1="360.0703" y2="360.0703"/><polygon fill="#A80036" points="475,356.0703,465,360.0703,475,364.0703,471,360.0703" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="471" y="342.2139">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="158" x="482" y="342.2139">weight=getCartWeight(cart)</text><polygon fill="#A80036" points="805.5,386.4219,815.5,390.4219,805.5,394.4219,809.5,390.4219" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="464" x2="811.5" y1="390.4219" y2="390.4219"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="471" y="385.5654">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="164" x="482" y="385.5654">create(price, weight, user.id)</text><rect fill="#FEFECE" filter="url(#f14587rp3xsuy)" height="49.2188" style="stroke: #A80036; stroke-width: 1.5;" width="91" x="817.5" y="368.0703"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="21" x="852.5" y="389.6035">ord</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="77" x="824.5" y="407.2129">:ClientOrder</text><polygon fill="#A80036" points="848,450.6406,858,454.6406,848,458.6406,852,454.6406" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="464" x2="854" y1="454.6406" y2="454.6406"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="471" y="449.7842">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="34" x="482" y="449.7842">save()</text><polygon fill="#A80036" points="1140.5,480.9922,1150.5,484.9922,1140.5,488.9922,1144.5,484.9922" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="870" x2="1146.5" y1="484.9922" y2="484.9922"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="877" y="480.1357">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="52" x="895" y="480.1357">save(org)</text><polygon fill="#A80036" points="1389.5,511.3438,1399.5,515.3438,1389.5,519.3438,1393.5,515.3438" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1162.5" x2="1395.5" y1="515.3438" y2="515.3438"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="1169.5" y="510.4873">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="52" x="1187.5" y="510.4873">save(ord)</text><polygon fill="#A80036" points="743,571.6953,753,575.6953,743,579.6953,747,575.6953" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="464" x2="749" y1="575.6953" y2="575.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="471" y="570.8389">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="149" x="489" y="570.8389">doesPayment(user, price)</text><polygon fill="#A80036" points="910.5,632.0469,920.5,636.0469,910.5,640.0469,914.5,636.0469" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="464" x2="916.5" y1="636.0469" y2="636.0469"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="471" y="631.1904">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="72" x="489" y="631.1904">create(price)</text><rect fill="#FEFECE" filter="url(#f14587rp3xsuy)" height="49.2188" style="stroke: #A80036; stroke-width: 1.5;" width="62" x="922.5" y="613.6953"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="18" x="944.5" y="635.2285">inv</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="48" x="929.5" y="652.8379">:Invoice</text><polygon fill="#A80036" points="938.5,696.2656,948.5,700.2656,938.5,704.2656,942.5,700.2656" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="464" x2="944.5" y1="700.2656" y2="700.2656"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="471" y="695.4092">14</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="34" x="489" y="695.4092">save()</text><polygon fill="#A80036" points="1280,726.6172,1290,730.6172,1280,734.6172,1284,730.6172" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="960.5" x2="1286" y1="730.6172" y2="730.6172"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="967.5" y="725.7607">15</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="49" x="985.5" y="725.7607">save(inv)</text><polygon fill="#A80036" points="1389.5,756.9688,1399.5,760.9688,1389.5,764.9688,1393.5,760.9688" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1302" x2="1395.5" y1="760.9688" y2="760.9688"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="1309" y="756.1123">16</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="49" x="1327" y="756.1123">save(inv)</text><polygon fill="#A80036" points="1020,817.3203,1030,821.3203,1020,825.3203,1024,821.3203" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="464" x2="1026" y1="821.3203" y2="821.3203"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="471" y="816.4639">17</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="176" x="489" y="816.4639">sendEmailToClient(user.email)</text><polygon fill="#A80036" points="37,877.6719,27,881.6719,37,885.6719,33,881.6719" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="31" x2="287" y1="881.6719" y2="881.6719"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="43" y="876.8154">18</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="210" x="61" y="876.8154">Informs the success of the operation</text><!--MD5=[e3c08f2659159212eda3cb396da41e21]
@startuml
autonumber
'hide footbox
actor "Client" as COL


participant ":ClientUI" as UI
participant ":CheckoutController" as CTRL
participant ":UserSession" as US
participant ":DoPayment" as PAY
participant "ord\n:ClientOrder" as ORDER
participant "inv\n:Invoice" as INV
participant ":EmailAPI" as API
participant ":ClientOrderHandler" as OH
participant ":InvoiceHandler" as IH
participant ":DataBase" as DB

activate COL

COL -> UI : begins the checkout process
activate UI

UI -> COL : shows cart and asks for confirmation

deactivate UI

COL -> UI : confirms
activate UI


UI -> CTRL : checkoutProcess(cart)
activate CTRL
CTRL -> US : user=getUserSession()
activate US
deactivate US

CTRL -> CTRL : price=getCartPrice(cart)

CTRL -> CTRL : weight=getCartWeight(cart)

CTRL -> ORDER** : create(price, weight, user.id)

CTRL -> ORDER : save()
activate ORDER


ORDER -> OH : save(org)
activate OH
OH -> DB : save(ord)
activate DB
deactivate DB
deactivate OH

deactivate ORDER

CTRL -> PAY : doesPayment(user, price)
activate PAY
deactivate PAY

CTRL -> INV** :create(price)

CTRL -> INV:save()
activate INV
INV -> IH:save(inv)
activate IH
IH -> DB:save(inv)
activate DB
deactivate DB
deactivate IH
deactivate INV


CTRL -> API : sendEmailToClient(user.email)
activate API
deactivate API
deactivate CTRL

UI -> COL : Informs the success of the operation
deactivate UI

deactivate COL





@enduml

@startuml
autonumber
actor "Client" as COL


participant ":ClientUI" as UI
participant ":CheckoutController" as CTRL
participant ":UserSession" as US
participant ":DoPayment" as PAY
participant "ord\n:ClientOrder" as ORDER
participant "inv\n:Invoice" as INV
participant ":EmailAPI" as API
participant ":ClientOrderHandler" as OH
participant ":InvoiceHandler" as IH
participant ":DataBase" as DB

activate COL

COL -> UI : begins the checkout process
activate UI

UI -> COL : shows cart and asks for confirmation

deactivate UI

COL -> UI : confirms
activate UI


UI -> CTRL : checkoutProcess(cart)
activate CTRL
CTRL -> US : user=getUserSession()
activate US
deactivate US

CTRL -> CTRL : price=getCartPrice(cart)

CTRL -> CTRL : weight=getCartWeight(cart)

CTRL -> ORDER** : create(price, weight, user.id)

CTRL -> ORDER : save()
activate ORDER


ORDER -> OH : save(org)
activate OH
OH -> DB : save(ord)
activate DB
deactivate DB
deactivate OH

deactivate ORDER

CTRL -> PAY : doesPayment(user, price)
activate PAY
deactivate PAY

CTRL -> INV** :create(price)

CTRL -> INV:save()
activate INV
INV -> IH:save(inv)
activate IH
IH -> DB:save(inv)
activate DB
deactivate DB
deactivate IH
deactivate INV


CTRL -> API : sendEmailToClient(user.email)
activate API
deactivate API
deactivate CTRL

UI -> COL : Informs the success of the operation
deactivate UI

deactivate COL





@enduml

PlantUML version 1.2020.19(Mon Oct 12 16:10:01 BST 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: Cp1252
Language: pt
Country: PT
--></g></svg>