<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="889px" preserveAspectRatio="none" style="width:4368px;height:889px;" version="1.1" viewBox="0 0 4368 889" width="4368px" zoomAndPan="magnify"><defs><filter height="300%" id="fif7plvwi83a7" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#fif7plvwi83a7)" height="687.4336" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="77.5" y="96.4883"/><rect fill="#FFFFFF" filter="url(#fif7plvwi83a7)" height="29.3105" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1062.5" y="117.7988"/><rect fill="#FFFFFF" filter="url(#fif7plvwi83a7)" height="147.2422" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1062.5" y="176.4199"/><rect fill="#FFFFFF" filter="url(#fif7plvwi83a7)" height="430.9492" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1062.5" y="352.9727"/><rect fill="#FFFFFF" filter="url(#fif7plvwi83a7)" height="88.6211" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1837.5" y="205.7305"/><rect fill="#FFFFFF" filter="url(#fif7plvwi83a7)" height="372.3281" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1837.5" y="382.2832"/><rect fill="#FFFFFF" filter="url(#fif7plvwi83a7)" height="59.3105" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1998.5" y="235.041"/><rect fill="#FFFFFF" filter="url(#fif7plvwi83a7)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1998.5" y="411.5938"/><rect fill="#FFFFFF" filter="url(#fif7plvwi83a7)" height="283.707" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="2666.5" y="470.9043"/><rect fill="#FFFFFF" filter="url(#fif7plvwi83a7)" height="29.3105" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="3188.5" y="500.2148"/><rect fill="#FFFFFF" filter="url(#fif7plvwi83a7)" height="29.3105" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="3188.5" y="575.0137"/><rect fill="#FFFFFF" filter="url(#fif7plvwi83a7)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="3760.5" y="264.3516"/><rect fill="#FFFFFF" filter="url(#fif7plvwi83a7)" height="59.3105" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="3877" y="695.3008"/><rect fill="#FFFFFF" filter="url(#fif7plvwi83a7)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="4314" y="724.6113"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="82" x2="82" y1="86.4883" y2="801.9219"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1067" x2="1067" y1="86.4883" y2="801.9219"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1842" x2="1842" y1="86.4883" y2="801.9219"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="2003.5" x2="2003.5" y1="86.4883" y2="801.9219"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="2671" x2="2671" y1="86.4883" y2="801.9219"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="3193" x2="3193" y1="86.4883" y2="801.9219"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="3271" x2="3271" y1="661.2461" y2="801.9219"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="3504.5" x2="3504.5" y1="540.959" y2="801.9219"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="3640.5" x2="3640.5" y1="615.7578" y2="801.9219"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="3765.5" x2="3765.5" y1="86.4883" y2="801.9219"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="3881.5" x2="3881.5" y1="86.4883" y2="801.9219"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="4319" x2="4319" y1="86.4883" y2="801.9219"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="143" x="8" y="83.5352">Non-Registered user</text><ellipse cx="82.5" cy="13" fill="#FEFECE" filter="url(#fif7plvwi83a7)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M82.5,21 L82.5,48 M69.5,29 L95.5,29 M82.5,48 L69.5,63 M82.5,48 L95.5,63 " fill="none" filter="url(#fif7plvwi83a7)" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="143" x="8" y="814.457">Non-Registered user</text><ellipse cx="82.5" cy="827.4102" fill="#FEFECE" filter="url(#fif7plvwi83a7)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M82.5,835.4102 L82.5,862.4102 M69.5,843.4102 L95.5,843.4102 M82.5,862.4102 L69.5,877.4102 M82.5,862.4102 L95.5,877.4102 " fill="none" filter="url(#fif7plvwi83a7)" style="stroke: #A80036; stroke-width: 2.0;"/><rect fill="#FEFECE" filter="url(#fif7plvwi83a7)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="105" x="1013" y="51"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="91" x="1020" y="71.5352">:RegistUserUI</text><rect fill="#FEFECE" filter="url(#fif7plvwi83a7)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="105" x="1013" y="800.9219"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="91" x="1020" y="821.457">:RegistUserUI</text><rect fill="#FEFECE" filter="url(#fif7plvwi83a7)" height="46.9766" style="stroke: #A80036; stroke-width: 1.5;" width="91" x="1795" y="34.5117"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="77" x="1802" y="55.0469">:RegistUser</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="70" x="1805.5" y="71.5352">Controller</text><rect fill="#FEFECE" filter="url(#fif7plvwi83a7)" height="46.9766" style="stroke: #A80036; stroke-width: 1.5;" width="91" x="1795" y="800.9219"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="77" x="1802" y="821.457">:RegistUser</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="70" x="1805.5" y="837.9453">Controller</text><rect fill="#FEFECE" filter="url(#fif7plvwi83a7)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="84" x="1959.5" y="51"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="70" x="1966.5" y="71.5352">:Plataform</text><rect fill="#FEFECE" filter="url(#fif7plvwi83a7)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="84" x="1959.5" y="800.9219"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="70" x="1966.5" y="821.457">:Plataform</text><rect fill="#FEFECE" filter="url(#fif7plvwi83a7)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="157" x="2591" y="51"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="143" x="2598" y="71.5352">ru: UserManagement</text><rect fill="#FEFECE" filter="url(#fif7plvwi83a7)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="157" x="2591" y="800.9219"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="143" x="2598" y="821.457">ru: UserManagement</text><rect fill="#FEFECE" filter="url(#fif7plvwi83a7)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="45" x="3169" y="51"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="31" x="3176" y="71.5352">User</text><rect fill="#FEFECE" filter="url(#fif7plvwi83a7)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="45" x="3169" y="800.9219"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="31" x="3176" y="821.457">User</text><rect fill="#FEFECE" filter="url(#fif7plvwi83a7)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="83" x="3228" y="800.9219"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="69" x="3235" y="821.457">user: User</text><rect fill="#FEFECE" filter="url(#fif7plvwi83a7)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="104" x="3450.5" y="800.9219"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="90" x="3457.5" y="821.457">add: Address</text><rect fill="#FEFECE" filter="url(#fif7plvwi83a7)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="120" x="3578.5" y="800.9219"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="106" x="3585.5" y="821.457">ccd: CreditCard</text><rect fill="#FEFECE" filter="url(#fif7plvwi83a7)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="102" x="3712.5" y="51"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="88" x="3719.5" y="71.5352">api: EmailAPI</text><rect fill="#FEFECE" filter="url(#fif7plvwi83a7)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="102" x="3712.5" y="800.9219"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="88" x="3719.5" y="821.457">api: EmailAPI</text><rect fill="#FEFECE" filter="url(#fif7plvwi83a7)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="103" x="3828.5" y="51"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="89" x="3835.5" y="71.5352">:UserHandler</text><rect fill="#FEFECE" filter="url(#fif7plvwi83a7)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="103" x="3828.5" y="800.9219"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="89" x="3835.5" y="821.457">:UserHandler</text><rect fill="#FEFECE" filter="url(#fif7plvwi83a7)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="80" x="4277" y="51"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="66" x="4284" y="71.5352">:DataBase</text><rect fill="#FEFECE" filter="url(#fif7plvwi83a7)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="80" x="4277" y="800.9219"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="66" x="4284" y="821.457">:DataBase</text><rect fill="#FFFFFF" filter="url(#fif7plvwi83a7)" height="687.4336" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="77.5" y="96.4883"/><rect fill="#FFFFFF" filter="url(#fif7plvwi83a7)" height="29.3105" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1062.5" y="117.7988"/><rect fill="#FFFFFF" filter="url(#fif7plvwi83a7)" height="147.2422" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1062.5" y="176.4199"/><rect fill="#FFFFFF" filter="url(#fif7plvwi83a7)" height="430.9492" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1062.5" y="352.9727"/><rect fill="#FFFFFF" filter="url(#fif7plvwi83a7)" height="88.6211" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1837.5" y="205.7305"/><rect fill="#FFFFFF" filter="url(#fif7plvwi83a7)" height="372.3281" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1837.5" y="382.2832"/><rect fill="#FFFFFF" filter="url(#fif7plvwi83a7)" height="59.3105" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1998.5" y="235.041"/><rect fill="#FFFFFF" filter="url(#fif7plvwi83a7)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1998.5" y="411.5938"/><rect fill="#FFFFFF" filter="url(#fif7plvwi83a7)" height="283.707" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="2666.5" y="470.9043"/><rect fill="#FFFFFF" filter="url(#fif7plvwi83a7)" height="29.3105" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="3188.5" y="500.2148"/><rect fill="#FFFFFF" filter="url(#fif7plvwi83a7)" height="29.3105" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="3188.5" y="575.0137"/><rect fill="#FFFFFF" filter="url(#fif7plvwi83a7)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="3760.5" y="264.3516"/><rect fill="#FFFFFF" filter="url(#fif7plvwi83a7)" height="59.3105" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="3877" y="695.3008"/><rect fill="#FFFFFF" filter="url(#fif7plvwi83a7)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="4314" y="724.6113"/><polygon fill="#A80036" points="1050.5,113.7988,1060.5,117.7988,1050.5,121.7988,1054.5,117.7988" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="87.5" x2="1056.5" y1="117.7988" y2="117.7988"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="94.5" y="113.0566">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="263" x="107.5" y="113.0566">begins the registration process of an user</text><polygon fill="#A80036" points="98.5,143.1094,88.5,147.1094,98.5,151.1094,94.5,147.1094" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="92.5" x2="1066.5" y1="147.1094" y2="147.1094"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="104.5" y="142.3672">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="938" x="117.5" y="142.3672">requests information about the user (e.g. name,email,NIF, password, credits, street,latitude,longitude, number, monthExpiration, yearExpiration, ccv)</text><polygon fill="#A80036" points="1050.5,172.4199,1060.5,176.4199,1050.5,180.4199,1054.5,176.4199" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="87.5" x2="1056.5" y1="176.4199" y2="176.4199"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="94.5" y="171.6777">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="145" x="107.5" y="171.6777">inserts the information</text><polygon fill="#A80036" points="1825.5,201.7305,1835.5,205.7305,1825.5,209.7305,1829.5,205.7305" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1072.5" x2="1831.5" y1="205.7305" y2="205.7305"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="1079.5" y="200.9883">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="106" x="1092.5" y="200.9883">sendEmail(email)</text><polygon fill="#A80036" points="1986.5,231.041,1996.5,235.041,1986.5,239.041,1990.5,235.041" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1847.5" x2="1992.5" y1="235.041" y2="235.041"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="1854.5" y="230.2988">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="119" x="1867.5" y="230.2988">api = getEmailAPI()</text><polygon fill="#A80036" points="3748.5,260.3516,3758.5,264.3516,3748.5,268.3516,3752.5,264.3516" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1847.5" x2="3754.5" y1="264.3516" y2="264.3516"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="1854.5" y="259.6094">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="106" x="1867.5" y="259.6094">sendEmail(email)</text><polygon fill="#A80036" points="98.5,319.6621,88.5,323.6621,98.5,327.6621,94.5,323.6621" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="92.5" x2="1066.5" y1="323.6621" y2="323.6621"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="104.5" y="318.9199">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="328" x="117.5" y="318.9199">shows a message that an email was send to confirm</text><polygon fill="#A80036" points="1050.5,348.9727,1060.5,352.9727,1050.5,356.9727,1054.5,352.9727" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="87.5" x2="1056.5" y1="352.9727" y2="352.9727"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="94.5" y="348.2305">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="350" x="107.5" y="348.2305">confirms and begins the registration process of an user</text><polygon fill="#A80036" points="1825.5,378.2832,1835.5,382.2832,1825.5,386.2832,1829.5,382.2832" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1072.5" x2="1831.5" y1="382.2832" y2="382.2832"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="1079.5" y="377.541">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="733" x="1092.5" y="377.541">newUser(name,email,NIF, password, credits, street,latitude,longitude, number, monthExpiration, yearExpiration, ccv)</text><polygon fill="#A80036" points="1986.5,407.5938,1996.5,411.5938,1986.5,415.5938,1990.5,411.5938" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1847.5" x2="1992.5" y1="411.5938" y2="411.5938"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="1854.5" y="406.8516">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="102" x="1876.5" y="406.8516">ru = getRUsers()</text><polygon fill="#A80036" points="2654.5,466.9043,2664.5,470.9043,2654.5,474.9043,2658.5,470.9043" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1847.5" x2="2660.5" y1="470.9043" y2="470.9043"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="1854.5" y="466.1621">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="778" x="1876.5" y="466.1621">user = newUser(name,email,NIF, password, credits, street,latitude,longitude, number, monthExpiration, yearExpiration, ccv)</text><polygon fill="#A80036" points="3176.5,496.2148,3186.5,500.2148,3176.5,504.2148,3180.5,500.2148" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2676.5" x2="3182.5" y1="500.2148" y2="500.2148"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="2683.5" y="495.4727">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="311" x="2705.5" y="495.4727">address = newAddress(latitude, longitude, street)</text><polygon fill="#A80036" points="3438.5,525.5254,3448.5,529.5254,3438.5,533.5254,3442.5,529.5254" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="3193.5" x2="3444.5" y1="529.5254" y2="529.5254"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="3200.5" y="524.7832">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="206" x="3222.5" y="524.7832">create(latitude, longitude, street)</text><rect fill="#FEFECE" filter="url(#fif7plvwi83a7)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="104" x="3450.5" y="508.2148"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="90" x="3457.5" y="528.75">add: Address</text><polygon fill="#A80036" points="3176.5,571.0137,3186.5,575.0137,3176.5,579.0137,3180.5,575.0137" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2676.5" x2="3182.5" y1="575.0137" y2="575.0137"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="2683.5" y="570.2715">14</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="471" x="2705.5" y="570.2715">creditCard = newCreditCard(number, monthExpiration, yearExpiration, ccv)</text><polygon fill="#A80036" points="3566.5,600.3242,3576.5,604.3242,3566.5,608.3242,3570.5,604.3242" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="3193.5" x2="3572.5" y1="604.3242" y2="604.3242"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="3200.5" y="599.582">15</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="334" x="3222.5" y="599.582">create(number, monthExpiration, yearExpiration, ccv)</text><rect fill="#FEFECE" filter="url(#fif7plvwi83a7)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="120" x="3578.5" y="583.0137"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="106" x="3585.5" y="603.5488">ccd: CreditCard</text><polygon fill="#A80036" points="3216,645.8125,3226,649.8125,3216,653.8125,3220,649.8125" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="2676.5" x2="3222" y1="649.8125" y2="649.8125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="2683.5" y="645.0703">16</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="404" x="2705.5" y="645.0703">create(name, email, nif, , password, credits, address, creditCard)</text><rect fill="#FEFECE" filter="url(#fif7plvwi83a7)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="83" x="3228" y="628.502"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="69" x="3235" y="649.0371">user: User</text><polygon fill="#A80036" points="3865,691.3008,3875,695.3008,3865,699.3008,3869,695.3008" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2676.5" x2="3871" y1="695.3008" y2="695.3008"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="2683.5" y="690.5586">17</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="91" x="2705.5" y="690.5586">saveUser(user)</text><polygon fill="#A80036" points="4302,720.6113,4312,724.6113,4302,728.6113,4306,724.6113" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="3887" x2="4308" y1="724.6113" y2="724.6113"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="3894" y="719.8691">18</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="386" x="3916" y="719.8691">save(name, email, nif, password, credits, address, creditCard)</text><polygon fill="#A80036" points="93.5,779.9219,83.5,783.9219,93.5,787.9219,89.5,783.9219" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="87.5" x2="1066.5" y1="783.9219" y2="783.9219"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="99.5" y="779.1797">19</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="131" x="121.5" y="779.1797">successful operation</text><!--MD5=[880f6cc1926ae366c0105bd1fef933d9]
@startuml
autonumber

actor "Non-Registered user" as ADM
participant ":RegistUserUI" as UI
participant ":RegistUser\nController" as CTRL
participant ":Plataform" as PLAT
participant "ru: UserManagement" as ORGS
participant "User" as _ORG
participant "user: User" as ORG
participant "add: Address" as ADD
participant "ccd: CreditCard" as CDD
participant "api: EmailAPI" as API
participant ":UserHandler" as USH
participant ":DataBase" as DBE


activate ADM
ADM -> UI : begins the registration process of an user
activate UI

UI - -> ADM : requests information about the user (e.g. name,email,NIF, password, credits, street,latitude,longitude, number, monthExpiration, yearExpiration, ccv)
deactivate UI

ADM -> UI : inserts the information
activate UI
UI -> CTRL : sendEmail(email)
activate CTRL

CTRL -> PLAT : api = getEmailAPI()
activate PLAT
CTRL -> API: sendEmail(email)
activate API
deactivate API
deactivate PLAT
deactivate CTRL
UI -> ADM : shows a message that an email was send to confirm
deactivate UI

ADM -> UI : confirms and begins the registration process of an user
activate UI
UI -> CTRL : newUser(name,email,NIF, password, credits, street,latitude,longitude, number, monthExpiration, yearExpiration, ccv)
activate CTRL

CTRL -> PLAT: ru = getRUsers()
activate PLAT
deactivate PLAT

CTRL -> ORGS: user = newUser(name,email,NIF, password, credits, street,latitude,longitude, number, monthExpiration, yearExpiration, ccv)
activate ORGS

ORGS -> _ORG: address = newAddress(latitude, longitude, street)
activate _ORG
_ORG - -> ADD ** : create(latitude, longitude, street)
deactivate _ORG

ORGS -> _ORG: creditCard = newCreditCard(number, monthExpiration, yearExpiration, ccv)
activate _ORG
_ORG - -> CDD ** : create(number, monthExpiration, yearExpiration, ccv)
deactivate _ORG

ORGS - -> ORG ** : create(name, email, nif, , password, credits, address, creditCard)


ORGS -> USH: saveUser(user)
activate USH
USH -> DBE: save(name, email, nif, password, credits, address, creditCard)
activate DBE
deactivate USH
deactivate DBE
deactivate ORGS

deactivate CTRL
UI - -> ADM : successful operation
deactivate UI

deactivate ADM
@enduml

PlantUML version 1.2020.09(Sun May 10 11:51:06 WEST 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.6+8-b765.40
Operating System: Mac OS X
Default Encoding: UTF-8
Language: pt
Country: PT
--></g></svg>