<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="770px" preserveAspectRatio="none" style="width:3510px;height:770px;" version="1.1" viewBox="0 0 3510 770" width="3510px" zoomAndPan="magnify"><defs><filter height="300%" id="f1qba97kqvcczq" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#f1qba97kqvcczq)" height="568.8125" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="77.5" y="96.4883"/><rect fill="#FFFFFF" filter="url(#f1qba97kqvcczq)" height="29.3105" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1062.5" y="117.7988"/><rect fill="#FFFFFF" filter="url(#f1qba97kqvcczq)" height="117.9316" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1062.5" y="176.4199"/><rect fill="#FFFFFF" filter="url(#f1qba97kqvcczq)" height="341.6387" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1062.5" y="323.6621"/><rect fill="#FFFFFF" filter="url(#f1qba97kqvcczq)" height="59.3105" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1837.5" y="205.7305"/><rect fill="#FFFFFF" filter="url(#f1qba97kqvcczq)" height="283.0176" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1837.5" y="352.9727"/><rect fill="#FFFFFF" filter="url(#f1qba97kqvcczq)" height="29.3105" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="2359.5" y="382.2832"/><rect fill="#FFFFFF" filter="url(#f1qba97kqvcczq)" height="29.3105" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="2359.5" y="457.082"/><rect fill="#FFFFFF" filter="url(#f1qba97kqvcczq)" height="58.6211" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="2437.5" y="577.3691"/><rect fill="#FFFFFF" filter="url(#f1qba97kqvcczq)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="2917" y="235.041"/><rect fill="#FFFFFF" filter="url(#f1qba97kqvcczq)" height="29.3105" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="3019" y="606.6797"/><rect fill="#FFFFFF" filter="url(#f1qba97kqvcczq)" height="38.3105" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="3456" y="635.9902"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="82" x2="82" y1="86.4883" y2="683.3008"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1067" x2="1067" y1="86.4883" y2="683.3008"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1842" x2="1842" y1="86.4883" y2="683.3008"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="2364" x2="2364" y1="86.4883" y2="683.3008"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="2442" x2="2442" y1="543.3145" y2="683.3008"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="2675.5" x2="2675.5" y1="423.0273" y2="683.3008"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="2811.5" x2="2811.5" y1="497.8262" y2="683.3008"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="2921.5" x2="2921.5" y1="86.4883" y2="683.3008"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="3023.5" x2="3023.5" y1="86.4883" y2="683.3008"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="3461" x2="3461" y1="86.4883" y2="683.3008"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="143" x="8" y="83.5352">Non-Registered user</text><ellipse cx="82.5" cy="13" fill="#FEFECE" filter="url(#f1qba97kqvcczq)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M82.5,21 L82.5,48 M69.5,29 L95.5,29 M82.5,48 L69.5,63 M82.5,48 L95.5,63 " fill="none" filter="url(#f1qba97kqvcczq)" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="143" x="8" y="695.8359">Non-Registered user</text><ellipse cx="82.5" cy="708.7891" fill="#FEFECE" filter="url(#f1qba97kqvcczq)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M82.5,716.7891 L82.5,743.7891 M69.5,724.7891 L95.5,724.7891 M82.5,743.7891 L69.5,758.7891 M82.5,743.7891 L95.5,758.7891 " fill="none" filter="url(#f1qba97kqvcczq)" style="stroke: #A80036; stroke-width: 2.0;"/><rect fill="#FEFECE" filter="url(#f1qba97kqvcczq)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="105" x="1013" y="51"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="91" x="1020" y="71.5352">:RegistUserUI</text><rect fill="#FEFECE" filter="url(#f1qba97kqvcczq)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="105" x="1013" y="682.3008"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="91" x="1020" y="702.8359">:RegistUserUI</text><rect fill="#FEFECE" filter="url(#f1qba97kqvcczq)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="161" x="1760" y="51"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="147" x="1767" y="71.5352">:RegistUserController</text><rect fill="#FEFECE" filter="url(#f1qba97kqvcczq)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="161" x="1760" y="682.3008"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="147" x="1767" y="702.8359">:RegistUserController</text><rect fill="#FEFECE" filter="url(#f1qba97kqvcczq)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="45" x="2340" y="51"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="31" x="2347" y="71.5352">User</text><rect fill="#FEFECE" filter="url(#f1qba97kqvcczq)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="45" x="2340" y="682.3008"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="31" x="2347" y="702.8359">User</text><rect fill="#FEFECE" filter="url(#f1qba97kqvcczq)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="83" x="2399" y="682.3008"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="69" x="2406" y="702.8359">user: User</text><rect fill="#FEFECE" filter="url(#f1qba97kqvcczq)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="104" x="2621.5" y="682.3008"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="90" x="2628.5" y="702.8359">add: Address</text><rect fill="#FEFECE" filter="url(#f1qba97kqvcczq)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="120" x="2749.5" y="682.3008"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="106" x="2756.5" y="702.8359">ccd: CreditCard</text><rect fill="#FEFECE" filter="url(#f1qba97kqvcczq)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="73" x="2883.5" y="51"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="59" x="2890.5" y="71.5352">EmailAPI</text><rect fill="#FEFECE" filter="url(#f1qba97kqvcczq)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="73" x="2883.5" y="682.3008"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="59" x="2890.5" y="702.8359">EmailAPI</text><rect fill="#FEFECE" filter="url(#f1qba97kqvcczq)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="103" x="2970.5" y="51"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="89" x="2977.5" y="71.5352">:UserHandler</text><rect fill="#FEFECE" filter="url(#f1qba97kqvcczq)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="103" x="2970.5" y="682.3008"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="89" x="2977.5" y="702.8359">:UserHandler</text><rect fill="#FEFECE" filter="url(#f1qba97kqvcczq)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="80" x="3419" y="51"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="66" x="3426" y="71.5352">:DataBase</text><rect fill="#FEFECE" filter="url(#f1qba97kqvcczq)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="80" x="3419" y="682.3008"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="66" x="3426" y="702.8359">:DataBase</text><rect fill="#FFFFFF" filter="url(#f1qba97kqvcczq)" height="568.8125" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="77.5" y="96.4883"/><rect fill="#FFFFFF" filter="url(#f1qba97kqvcczq)" height="29.3105" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1062.5" y="117.7988"/><rect fill="#FFFFFF" filter="url(#f1qba97kqvcczq)" height="117.9316" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1062.5" y="176.4199"/><rect fill="#FFFFFF" filter="url(#f1qba97kqvcczq)" height="341.6387" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1062.5" y="323.6621"/><rect fill="#FFFFFF" filter="url(#f1qba97kqvcczq)" height="59.3105" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1837.5" y="205.7305"/><rect fill="#FFFFFF" filter="url(#f1qba97kqvcczq)" height="283.0176" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1837.5" y="352.9727"/><rect fill="#FFFFFF" filter="url(#f1qba97kqvcczq)" height="29.3105" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="2359.5" y="382.2832"/><rect fill="#FFFFFF" filter="url(#f1qba97kqvcczq)" height="29.3105" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="2359.5" y="457.082"/><rect fill="#FFFFFF" filter="url(#f1qba97kqvcczq)" height="58.6211" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="2437.5" y="577.3691"/><rect fill="#FFFFFF" filter="url(#f1qba97kqvcczq)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="2917" y="235.041"/><rect fill="#FFFFFF" filter="url(#f1qba97kqvcczq)" height="29.3105" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="3019" y="606.6797"/><rect fill="#FFFFFF" filter="url(#f1qba97kqvcczq)" height="38.3105" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="3456" y="635.9902"/><polygon fill="#A80036" points="1050.5,113.7988,1060.5,117.7988,1050.5,121.7988,1054.5,117.7988" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="87.5" x2="1056.5" y1="117.7988" y2="117.7988"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="94.5" y="113.0566">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="263" x="107.5" y="113.0566">begins the registration process of an user</text><polygon fill="#A80036" points="98.5,143.1094,88.5,147.1094,98.5,151.1094,94.5,147.1094" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="92.5" x2="1066.5" y1="147.1094" y2="147.1094"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="104.5" y="142.3672">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="938" x="117.5" y="142.3672">requests information about the user (e.g. name,email,NIF, password, credits, street,latitude,longitude, number, monthExpiration, yearExpiration, ccv)</text><polygon fill="#A80036" points="1050.5,172.4199,1060.5,176.4199,1050.5,180.4199,1054.5,176.4199" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="87.5" x2="1056.5" y1="176.4199" y2="176.4199"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="94.5" y="171.6777">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="145" x="107.5" y="171.6777">inserts the information</text><polygon fill="#A80036" points="1825.5,201.7305,1835.5,205.7305,1825.5,209.7305,1829.5,205.7305" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1072.5" x2="1831.5" y1="205.7305" y2="205.7305"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="1079.5" y="200.9883">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="106" x="1092.5" y="200.9883">sendEmail(email)</text><polygon fill="#A80036" points="2905,231.041,2915,235.041,2905,239.041,2909,235.041" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1847.5" x2="2911" y1="235.041" y2="235.041"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="1854.5" y="230.2988">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="106" x="1867.5" y="230.2988">sendEmail(email)</text><polygon fill="#A80036" points="98.5,290.3516,88.5,294.3516,98.5,298.3516,94.5,294.3516" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="92.5" x2="1066.5" y1="294.3516" y2="294.3516"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="104.5" y="289.6094">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="328" x="117.5" y="289.6094">shows a message that an email was send to confirm</text><polygon fill="#A80036" points="1050.5,319.6621,1060.5,323.6621,1050.5,327.6621,1054.5,323.6621" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="87.5" x2="1056.5" y1="323.6621" y2="323.6621"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="94.5" y="318.9199">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="350" x="107.5" y="318.9199">confirms and begins the registration process of an user</text><polygon fill="#A80036" points="1825.5,348.9727,1835.5,352.9727,1825.5,356.9727,1829.5,352.9727" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1072.5" x2="1831.5" y1="352.9727" y2="352.9727"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="1079.5" y="348.2305">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="733" x="1092.5" y="348.2305">newUser(name,email,NIF, password, credits, street,latitude,longitude, number, monthExpiration, yearExpiration, ccv)</text><polygon fill="#A80036" points="2347.5,378.2832,2357.5,382.2832,2347.5,386.2832,2351.5,382.2832" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1847.5" x2="2353.5" y1="382.2832" y2="382.2832"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="1854.5" y="377.541">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="311" x="1867.5" y="377.541">address = newAddress(latitude, longitude, street)</text><polygon fill="#A80036" points="2609.5,407.5938,2619.5,411.5938,2609.5,415.5938,2613.5,411.5938" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="2364.5" x2="2615.5" y1="411.5938" y2="411.5938"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="2371.5" y="406.8516">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="206" x="2393.5" y="406.8516">create(latitude, longitude, street)</text><rect fill="#FEFECE" filter="url(#f1qba97kqvcczq)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="104" x="2621.5" y="390.2832"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="90" x="2628.5" y="410.8184">add: Address</text><polygon fill="#A80036" points="2347.5,453.082,2357.5,457.082,2347.5,461.082,2351.5,457.082" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1847.5" x2="2353.5" y1="457.082" y2="457.082"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="1854.5" y="452.3398">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="471" x="1876.5" y="452.3398">creditCard = newCreditCard(number, monthExpiration, yearExpiration, ccv)</text><polygon fill="#A80036" points="2737.5,482.3926,2747.5,486.3926,2737.5,490.3926,2741.5,486.3926" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="2364.5" x2="2743.5" y1="486.3926" y2="486.3926"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="2371.5" y="481.6504">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="334" x="2393.5" y="481.6504">create(number, monthExpiration, yearExpiration, ccv)</text><rect fill="#FEFECE" filter="url(#f1qba97kqvcczq)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="120" x="2749.5" y="465.082"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="106" x="2756.5" y="485.6172">ccd: CreditCard</text><polygon fill="#A80036" points="2387,527.8809,2397,531.8809,2387,535.8809,2391,531.8809" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="1847.5" x2="2393" y1="531.8809" y2="531.8809"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="1854.5" y="527.1387">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="404" x="1876.5" y="527.1387">create(name, email, nif, , password, credits, address, creditCard)</text><rect fill="#FEFECE" filter="url(#f1qba97kqvcczq)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="83" x="2399" y="510.5703"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="69" x="2406" y="531.1055">user: User</text><polygon fill="#A80036" points="2425.5,573.3691,2435.5,577.3691,2425.5,581.3691,2429.5,577.3691" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1847.5" x2="2431.5" y1="577.3691" y2="577.3691"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="1854.5" y="572.627">14</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="64" x="1876.5" y="572.627">saveUser()</text><polygon fill="#A80036" points="3007,602.6797,3017,606.6797,3007,610.6797,3011,606.6797" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2447.5" x2="3013" y1="606.6797" y2="606.6797"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="2454.5" y="601.9375">15</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="86" x="2476.5" y="601.9375">addUser(user)</text><polygon fill="#A80036" points="3444,631.9902,3454,635.9902,3444,639.9902,3448,635.9902" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="3024" x2="3450" y1="635.9902" y2="635.9902"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="3031" y="631.248">16</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="386" x="3053" y="631.248">save(name, email, nif, password, credits, address, creditCard)</text><polygon fill="#A80036" points="93.5,661.3008,83.5,665.3008,93.5,669.3008,89.5,665.3008" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="87.5" x2="1066.5" y1="665.3008" y2="665.3008"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="99.5" y="660.5586">17</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="131" x="121.5" y="660.5586">successful operation</text><!--MD5=[669ac73d693be87b93be4c9c659f6d33]
@startuml
autonumber

actor "Non-Registered user" as ADM
participant ":RegistUserUI" as UI
participant ":RegistUserController" as CTRL
participant "User" as _ORG
participant "user: User" as ORG
participant "add: Address" as ADD
participant "ccd: CreditCard" as CDD
participant "EmailAPI" as API
participant ":UserHandler" as USH
participant ":DataBase" as DBE


activate ADM
ADM -> UI : begins the registration process of an user
activate UI

UI - -> ADM : requests information about the user (e.g. name,email,NIF, password, credits, street,latitude,longitude, number, monthExpiration, yearExpiration, ccv)
deactivate UI

ADM -> UI : inserts the information
activate UI
UI -> CTRL : sendEmail(email)
activate CTRL


CTRL -> API: sendEmail(email)
activate API
deactivate API
deactivate CTRL
UI -> ADM : shows a message that an email was send to confirm
deactivate UI

ADM -> UI : confirms and begins the registration process of an user
activate UI
UI -> CTRL : newUser(name,email,NIF, password, credits, street,latitude,longitude, number, monthExpiration, yearExpiration, ccv)
activate CTRL




CTRL -> _ORG: address = newAddress(latitude, longitude, street)
activate _ORG
_ORG - -> ADD ** : create(latitude, longitude, street)
deactivate _ORG

CTRL -> _ORG: creditCard = newCreditCard(number, monthExpiration, yearExpiration, ccv)
activate _ORG
_ORG - -> CDD ** : create(number, monthExpiration, yearExpiration, ccv)
deactivate _ORG

CTRL - -> ORG ** : create(name, email, nif, , password, credits, address, creditCard)


CTRL -> ORG: saveUser()
activate ORG
ORG -> USH: addUser(user)
activate USH
USH -> DBE: save(name, email, nif, password, credits, address, creditCard)
deactivate USH 
deactivate ORG
activate DBE
deactivate DBE


deactivate CTRL
UI - -> ADM : successful operation
deactivate UI

deactivate ADM
@enduml

PlantUML version 1.2020.09(Sun May 10 11:51:06 WEST 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.6+8-b765.40
Operating System: Mac OS X
Default Encoding: UTF-8
Language: pt
Country: PT
--></g></svg>