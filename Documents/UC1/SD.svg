<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="830px" preserveAspectRatio="none" style="width:4368px;height:830px;" version="1.1" viewBox="0 0 4368 830" width="4368px" zoomAndPan="magnify"><defs><filter height="300%" id="fxpjvp3cks1r0" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#fxpjvp3cks1r0)" height="628.123" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="77.5" y="96.4883"/><rect fill="#FFFFFF" filter="url(#fxpjvp3cks1r0)" height="29.3105" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1062.5" y="117.7988"/><rect fill="#FFFFFF" filter="url(#fxpjvp3cks1r0)" height="147.2422" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1062.5" y="176.4199"/><rect fill="#FFFFFF" filter="url(#fxpjvp3cks1r0)" height="371.6387" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1062.5" y="352.9727"/><rect fill="#FFFFFF" filter="url(#fxpjvp3cks1r0)" height="88.6211" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1837.5" y="205.7305"/><rect fill="#FFFFFF" filter="url(#fxpjvp3cks1r0)" height="313.0176" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1837.5" y="382.2832"/><rect fill="#FFFFFF" filter="url(#fxpjvp3cks1r0)" height="59.3105" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="2666.5" y="235.041"/><rect fill="#FFFFFF" filter="url(#fxpjvp3cks1r0)" height="283.707" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="2666.5" y="411.5938"/><rect fill="#FFFFFF" filter="url(#fxpjvp3cks1r0)" height="29.3105" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="3188.5" y="440.9043"/><rect fill="#FFFFFF" filter="url(#fxpjvp3cks1r0)" height="29.3105" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="3188.5" y="515.7031"/><rect fill="#FFFFFF" filter="url(#fxpjvp3cks1r0)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="3760.5" y="264.3516"/><rect fill="#FFFFFF" filter="url(#fxpjvp3cks1r0)" height="59.3105" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="3877" y="635.9902"/><rect fill="#FFFFFF" filter="url(#fxpjvp3cks1r0)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="4314" y="665.3008"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="82" x2="82" y1="86.4883" y2="742.6113"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1067" x2="1067" y1="86.4883" y2="742.6113"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1842" x2="1842" y1="86.4883" y2="742.6113"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="2671.5" x2="2671.5" y1="86.4883" y2="742.6113"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="2805.5" x2="2805.5" y1="86.4883" y2="742.6113"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="3193" x2="3193" y1="86.4883" y2="742.6113"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="3271" x2="3271" y1="601.9355" y2="742.6113"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="3504.5" x2="3504.5" y1="481.6484" y2="742.6113"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="3640.5" x2="3640.5" y1="556.4473" y2="742.6113"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="3765.5" x2="3765.5" y1="86.4883" y2="742.6113"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="3881.5" x2="3881.5" y1="86.4883" y2="742.6113"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="4319" x2="4319" y1="86.4883" y2="742.6113"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="143" x="8" y="83.5352">Non-Registered user</text><ellipse cx="82.5" cy="13" fill="#FEFECE" filter="url(#fxpjvp3cks1r0)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M82.5,21 L82.5,48 M69.5,29 L95.5,29 M82.5,48 L69.5,63 M82.5,48 L95.5,63 " fill="none" filter="url(#fxpjvp3cks1r0)" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="143" x="8" y="755.1465">Non-Registered user</text><ellipse cx="82.5" cy="768.0996" fill="#FEFECE" filter="url(#fxpjvp3cks1r0)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M82.5,776.0996 L82.5,803.0996 M69.5,784.0996 L95.5,784.0996 M82.5,803.0996 L69.5,818.0996 M82.5,803.0996 L95.5,818.0996 " fill="none" filter="url(#fxpjvp3cks1r0)" style="stroke: #A80036; stroke-width: 2.0;"/><rect fill="#FEFECE" filter="url(#fxpjvp3cks1r0)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="105" x="1013" y="51"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="91" x="1020" y="71.5352">:RegistUserUI</text><rect fill="#FEFECE" filter="url(#fxpjvp3cks1r0)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="105" x="1013" y="741.6113"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="91" x="1020" y="762.1465">:RegistUserUI</text><rect fill="#FEFECE" filter="url(#fxpjvp3cks1r0)" height="46.9766" style="stroke: #A80036; stroke-width: 1.5;" width="91" x="1795" y="34.5117"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="77" x="1802" y="55.0469">:RegistUser</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="70" x="1805.5" y="71.5352">Controller</text><rect fill="#FEFECE" filter="url(#fxpjvp3cks1r0)" height="46.9766" style="stroke: #A80036; stroke-width: 1.5;" width="91" x="1795" y="741.6113"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="77" x="1802" y="762.1465">:RegistUser</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="70" x="1805.5" y="778.6348">Controller</text><rect fill="#FEFECE" filter="url(#fxpjvp3cks1r0)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="84" x="2627.5" y="51"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="70" x="2634.5" y="71.5352">:Plataform</text><rect fill="#FEFECE" filter="url(#fxpjvp3cks1r0)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="84" x="2627.5" y="741.6113"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="70" x="2634.5" y="762.1465">:Plataform</text><rect fill="#FEFECE" filter="url(#fxpjvp3cks1r0)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="157" x="2725.5" y="51"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="143" x="2732.5" y="71.5352">ru: UserManagement</text><rect fill="#FEFECE" filter="url(#fxpjvp3cks1r0)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="157" x="2725.5" y="741.6113"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="143" x="2732.5" y="762.1465">ru: UserManagement</text><rect fill="#FEFECE" filter="url(#fxpjvp3cks1r0)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="45" x="3169" y="51"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="31" x="3176" y="71.5352">User</text><rect fill="#FEFECE" filter="url(#fxpjvp3cks1r0)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="45" x="3169" y="741.6113"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="31" x="3176" y="762.1465">User</text><rect fill="#FEFECE" filter="url(#fxpjvp3cks1r0)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="83" x="3228" y="741.6113"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="69" x="3235" y="762.1465">user: User</text><rect fill="#FEFECE" filter="url(#fxpjvp3cks1r0)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="104" x="3450.5" y="741.6113"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="90" x="3457.5" y="762.1465">add: Address</text><rect fill="#FEFECE" filter="url(#fxpjvp3cks1r0)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="120" x="3578.5" y="741.6113"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="106" x="3585.5" y="762.1465">ccd: CreditCard</text><rect fill="#FEFECE" filter="url(#fxpjvp3cks1r0)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="102" x="3712.5" y="51"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="88" x="3719.5" y="71.5352">api: EmailAPI</text><rect fill="#FEFECE" filter="url(#fxpjvp3cks1r0)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="102" x="3712.5" y="741.6113"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="88" x="3719.5" y="762.1465">api: EmailAPI</text><rect fill="#FEFECE" filter="url(#fxpjvp3cks1r0)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="103" x="3828.5" y="51"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="89" x="3835.5" y="71.5352">:UserHandler</text><rect fill="#FEFECE" filter="url(#fxpjvp3cks1r0)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="103" x="3828.5" y="741.6113"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="89" x="3835.5" y="762.1465">:UserHandler</text><rect fill="#FEFECE" filter="url(#fxpjvp3cks1r0)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="80" x="4277" y="51"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="66" x="4284" y="71.5352">:DataBase</text><rect fill="#FEFECE" filter="url(#fxpjvp3cks1r0)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="80" x="4277" y="741.6113"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="66" x="4284" y="762.1465">:DataBase</text><rect fill="#FFFFFF" filter="url(#fxpjvp3cks1r0)" height="628.123" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="77.5" y="96.4883"/><rect fill="#FFFFFF" filter="url(#fxpjvp3cks1r0)" height="29.3105" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1062.5" y="117.7988"/><rect fill="#FFFFFF" filter="url(#fxpjvp3cks1r0)" height="147.2422" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1062.5" y="176.4199"/><rect fill="#FFFFFF" filter="url(#fxpjvp3cks1r0)" height="371.6387" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1062.5" y="352.9727"/><rect fill="#FFFFFF" filter="url(#fxpjvp3cks1r0)" height="88.6211" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1837.5" y="205.7305"/><rect fill="#FFFFFF" filter="url(#fxpjvp3cks1r0)" height="313.0176" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1837.5" y="382.2832"/><rect fill="#FFFFFF" filter="url(#fxpjvp3cks1r0)" height="59.3105" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="2666.5" y="235.041"/><rect fill="#FFFFFF" filter="url(#fxpjvp3cks1r0)" height="283.707" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="2666.5" y="411.5938"/><rect fill="#FFFFFF" filter="url(#fxpjvp3cks1r0)" height="29.3105" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="3188.5" y="440.9043"/><rect fill="#FFFFFF" filter="url(#fxpjvp3cks1r0)" height="29.3105" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="3188.5" y="515.7031"/><rect fill="#FFFFFF" filter="url(#fxpjvp3cks1r0)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="3760.5" y="264.3516"/><rect fill="#FFFFFF" filter="url(#fxpjvp3cks1r0)" height="59.3105" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="3877" y="635.9902"/><rect fill="#FFFFFF" filter="url(#fxpjvp3cks1r0)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="4314" y="665.3008"/><polygon fill="#A80036" points="1050.5,113.7988,1060.5,117.7988,1050.5,121.7988,1054.5,117.7988" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="87.5" x2="1056.5" y1="117.7988" y2="117.7988"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="94.5" y="113.0566">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="263" x="107.5" y="113.0566">begins the registration process of an user</text><polygon fill="#A80036" points="98.5,143.1094,88.5,147.1094,98.5,151.1094,94.5,147.1094" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="92.5" x2="1066.5" y1="147.1094" y2="147.1094"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="104.5" y="142.3672">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="938" x="117.5" y="142.3672">requests information about the user (e.g. name,email,NIF, password, credits, street,latitude,longitude, number, monthExpiration, yearExpiration, ccv)</text><polygon fill="#A80036" points="1050.5,172.4199,1060.5,176.4199,1050.5,180.4199,1054.5,176.4199" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="87.5" x2="1056.5" y1="176.4199" y2="176.4199"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="94.5" y="171.6777">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="145" x="107.5" y="171.6777">inserts the information</text><polygon fill="#A80036" points="1825.5,201.7305,1835.5,205.7305,1825.5,209.7305,1829.5,205.7305" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1072.5" x2="1831.5" y1="205.7305" y2="205.7305"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="1079.5" y="200.9883">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="106" x="1092.5" y="200.9883">sendEmail(email)</text><polygon fill="#A80036" points="2654.5,231.041,2664.5,235.041,2654.5,239.041,2658.5,235.041" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1847.5" x2="2660.5" y1="235.041" y2="235.041"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="1854.5" y="230.2988">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="119" x="1867.5" y="230.2988">api = getEmailAPI()</text><polygon fill="#A80036" points="3748.5,260.3516,3758.5,264.3516,3748.5,268.3516,3752.5,264.3516" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1847.5" x2="3754.5" y1="264.3516" y2="264.3516"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="1854.5" y="259.6094">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="106" x="1867.5" y="259.6094">sendEmail(email)</text><polygon fill="#A80036" points="98.5,319.6621,88.5,323.6621,98.5,327.6621,94.5,323.6621" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="92.5" x2="1066.5" y1="323.6621" y2="323.6621"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="104.5" y="318.9199">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="328" x="117.5" y="318.9199">shows a message that an email was send to confirm</text><polygon fill="#A80036" points="1050.5,348.9727,1060.5,352.9727,1050.5,356.9727,1054.5,352.9727" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="87.5" x2="1056.5" y1="352.9727" y2="352.9727"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="94.5" y="348.2305">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="350" x="107.5" y="348.2305">confirms and begins the registration process of an user</text><polygon fill="#A80036" points="1825.5,378.2832,1835.5,382.2832,1825.5,386.2832,1829.5,382.2832" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1072.5" x2="1831.5" y1="382.2832" y2="382.2832"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="1079.5" y="377.541">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="733" x="1092.5" y="377.541">newUser(name,email,NIF, password, credits, street,latitude,longitude, number, monthExpiration, yearExpiration, ccv)</text><polygon fill="#A80036" points="2654.5,407.5938,2664.5,411.5938,2654.5,415.5938,2658.5,411.5938" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1847.5" x2="2660.5" y1="411.5938" y2="411.5938"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="1854.5" y="406.8516">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="778" x="1876.5" y="406.8516">user = newUser(name,email,NIF, password, credits, street,latitude,longitude, number, monthExpiration, yearExpiration, ccv)</text><polygon fill="#A80036" points="3176.5,436.9043,3186.5,440.9043,3176.5,444.9043,3180.5,440.9043" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2676.5" x2="3182.5" y1="440.9043" y2="440.9043"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="2683.5" y="436.1621">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="311" x="2705.5" y="436.1621">address = newAddress(latitude, longitude, street)</text><polygon fill="#A80036" points="3438.5,466.2148,3448.5,470.2148,3438.5,474.2148,3442.5,470.2148" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="3193.5" x2="3444.5" y1="470.2148" y2="470.2148"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="3200.5" y="465.4727">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="206" x="3222.5" y="465.4727">create(latitude, longitude, street)</text><rect fill="#FEFECE" filter="url(#fxpjvp3cks1r0)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="104" x="3450.5" y="448.9043"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="90" x="3457.5" y="469.4395">add: Address</text><polygon fill="#A80036" points="3176.5,511.7031,3186.5,515.7031,3176.5,519.7031,3180.5,515.7031" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2676.5" x2="3182.5" y1="515.7031" y2="515.7031"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="2683.5" y="510.9609">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="471" x="2705.5" y="510.9609">creditCard = newCreditCard(number, monthExpiration, yearExpiration, ccv)</text><polygon fill="#A80036" points="3566.5,541.0137,3576.5,545.0137,3566.5,549.0137,3570.5,545.0137" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="3193.5" x2="3572.5" y1="545.0137" y2="545.0137"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="3200.5" y="540.2715">14</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="334" x="3222.5" y="540.2715">create(number, monthExpiration, yearExpiration, ccv)</text><rect fill="#FEFECE" filter="url(#fxpjvp3cks1r0)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="120" x="3578.5" y="523.7031"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="106" x="3585.5" y="544.2383">ccd: CreditCard</text><polygon fill="#A80036" points="3216,586.502,3226,590.502,3216,594.502,3220,590.502" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="2676.5" x2="3222" y1="590.502" y2="590.502"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="2683.5" y="585.7598">15</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="404" x="2705.5" y="585.7598">create(name, email, nif, , password, credits, address, creditCard)</text><rect fill="#FEFECE" filter="url(#fxpjvp3cks1r0)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="83" x="3228" y="569.1914"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="69" x="3235" y="589.7266">user: User</text><polygon fill="#A80036" points="3865,631.9902,3875,635.9902,3865,639.9902,3869,635.9902" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2676.5" x2="3871" y1="635.9902" y2="635.9902"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="2683.5" y="631.248">16</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="91" x="2705.5" y="631.248">saveUser(user)</text><polygon fill="#A80036" points="4302,661.3008,4312,665.3008,4302,669.3008,4306,665.3008" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="3887" x2="4308" y1="665.3008" y2="665.3008"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="3894" y="660.5586">17</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="386" x="3916" y="660.5586">save(name, email, nif, password, credits, address, creditCard)</text><polygon fill="#A80036" points="93.5,720.6113,83.5,724.6113,93.5,728.6113,89.5,724.6113" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="87.5" x2="1066.5" y1="724.6113" y2="724.6113"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="99.5" y="719.8691">18</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="131" x="121.5" y="719.8691">successful operation</text><!--MD5=[05ab970094825aea50c48513fd15ed93]
@startuml
autonumber

actor "Non-Registered user" as ADM
participant ":RegistUserUI" as UI
participant ":RegistUser\nController" as CTRL
participant ":Plataform" as PLAT
participant "ru: UserManagement" as ORGS
participant "User" as _ORG
participant "user: User" as ORG
participant "add: Address" as ADD
participant "ccd: CreditCard" as CDD
participant "api: EmailAPI" as API
participant ":UserHandler" as USH
participant ":DataBase" as DBE


activate ADM
ADM -> UI : begins the registration process of an user
activate UI

UI - -> ADM : requests information about the user (e.g. name,email,NIF, password, credits, street,latitude,longitude, number, monthExpiration, yearExpiration, ccv)
deactivate UI

ADM -> UI : inserts the information
activate UI
UI -> CTRL : sendEmail(email)
activate CTRL

CTRL -> PLAT : api = getEmailAPI()
activate PLAT
CTRL -> API: sendEmail(email)
activate API
deactivate API
deactivate PLAT
deactivate CTRL
UI -> ADM : shows a message that an email was send to confirm
deactivate UI

ADM -> UI : confirms and begins the registration process of an user
activate UI
UI -> CTRL : newUser(name,email,NIF, password, credits, street,latitude,longitude, number, monthExpiration, yearExpiration, ccv)
activate CTRL


CTRL -> PLAT: user = newUser(name,email,NIF, password, credits, street,latitude,longitude, number, monthExpiration, yearExpiration, ccv)
activate PLAT

PLAT -> _ORG: address = newAddress(latitude, longitude, street)
activate _ORG
_ORG - -> ADD ** : create(latitude, longitude, street)
deactivate _ORG

PLAT -> _ORG: creditCard = newCreditCard(number, monthExpiration, yearExpiration, ccv)
activate _ORG
_ORG - -> CDD ** : create(number, monthExpiration, yearExpiration, ccv)
deactivate _ORG

PLAT - -> ORG ** : create(name, email, nif, , password, credits, address, creditCard)


PLAT -> USH: saveUser(user)
activate USH
USH -> DBE: save(name, email, nif, password, credits, address, creditCard)
activate DBE
deactivate PLAT
deactivate USH
deactivate DBE


deactivate CTRL
UI - -> ADM : successful operation
deactivate UI

deactivate ADM
@enduml

PlantUML version 1.2020.09(Sun May 10 11:51:06 WEST 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.6+8-b765.40
Operating System: Mac OS X
Default Encoding: UTF-8
Language: pt
Country: PT
--></g></svg>